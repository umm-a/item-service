<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <title>Buy item</title>
</head>

<body class="d-flex justify-content-center align-items-center">
<div class="container" >
  <div th:replace="fragments/navbar" ></div>

    <div class="row">
    <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 my-3 d-flex align-items-stretch">
      <div class="card bg-light" style="width: 15rem;">
        <div class="card-header">
          <h3>Add order</h3>
        </div>
        <div class="card-body">
          <form class="align-items-end" action="buy" method="post"
                th:action="@{/itemHTML/buy}">
            <div class="form-group">
              <label th:text="'Item name: ' + ${item.getName()}" name="itemId" value="${item.getId()}" style="font-size: 150%; margin-top: 2%" readonly>Item name: add here...</label>
              <label th:text="'Item id: '" name="itemId" value="${item.getId()}" style="font-size: 150%; margin-top: 2%">Item id: add here...</label><br><!--+ ${item.getId()}-->
              <input type="text" id="itemId" name="itemId" th:value="${item.getId()}" style="margin-bottom: 145px" readonly><br>
            </div>
            <div class="form-group">
              <label for="customerId" style="font-size: 150%; margin-top: 2%">Customer id: </label><br>
              <input type="text" id="customerId" name="customerId" style="margin-bottom: 145px" value="" readonly><br>
            </div>
            <div class="form-group" style="border-top: 1px solid #dee2e6">
              <a >
                <button type="submit" class="btn btn-primary" >Submit</button>
              </a>
            </div>
          </form>

        </div>

      </div>
    </div>
    <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 my-3" th:each="c : ${allCustomers}" th:unless="${#lists.isEmpty(allCustomers)}">
      <div class="card bg-info" style="width: 15rem;">
        <div class="card-img-top text-center">
          <i class="bi bi-person-badge" style="font-size: 15rem;"></i>
        </div>
        <div class="card-body">
          <h4 class="card-title text-center" th:text="${c.getName()}"></h4>
        </div>
        <div class="card-footer">
          <a>
            <button type="button" class="btn btn-dark" th:onclick="'setCustomerId(' + ${c.getId()} + ')'" >Get customer id</button>
          </a>
        </div>

      </div>
    </div>
  </div>

</div>

<script>
  function setCustomerId(id) {
    document.getElementById("customerId").value = id;
    console.log("clicked");
  }

</script><!--  const customerId = document.getElementById('customerId').value;
  const link = document.querySelector('a');
  const href = link.getAttribute('href');
  const updatedHref = href.replace('X', customerId);
  link.setAttribute('href', updatedHref);  /{customerId}(customerId=X) name="customerId"-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>
</html>